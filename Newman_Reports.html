<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Flight Booking Microservice - Postman Report</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
      }
      .header h1 {
        font-size: 32px;
        margin-bottom: 10px;
      }
      .header p {
        opacity: 0.9;
        font-size: 14px;
      }
      .content {
        padding: 30px;
      }
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }
      .stat-card {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #667eea;
      }
      .stat-card h3 {
        color: #2d3748;
        font-size: 14px;
        margin-bottom: 10px;
        text-transform: uppercase;
      }
      .stat-card .value {
        font-size: 32px;
        font-weight: bold;
        color: #667eea;
      }
      .stat-card .subtext {
        font-size: 12px;
        color: #718096;
        margin-top: 5px;
      }
      .section {
        margin: 30px 0;
      }
      .section-title {
        font-size: 24px;
        color: #2d3748;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid #e2e8f0;
      }
      .request-card {
        background: #f7fafc;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        margin-bottom: 15px;
        overflow: hidden;
        transition: all 0.3s;
      }
      .request-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
      }
      .request-header {
        padding: 20px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: white;
      }
      .request-header:hover {
        background: #f7fafc;
      }
      .request-title {
        font-size: 16px;
        font-weight: 600;
        color: #2d3748;
      }
      .request-method {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: bold;
        margin-right: 10px;
      }
      .method-get {
        background: #48bb78;
        color: white;
      }
      .method-post {
        background: #4299e1;
        color: white;
      }
      .method-delete {
        background: #f56565;
        color: white;
      }
      .status-badge {
        padding: 4px 12px;
        border-radius: 4px;
        font-size: 12px;
        font-weight: bold;
      }
      .status-success {
        background: #c6f6d5;
        color: #22543d;
      }
      .status-error {
        background: #fed7d7;
        color: #742a2a;
      }
      .request-body {
        padding: 20px;
        display: none;
        background: white;
        border-top: 1px solid #e2e8f0;
      }
      .request-body.active {
        display: block;
      }
      .detail-row {
        display: grid;
        grid-template-columns: 150px 1fr;
        gap: 10px;
        padding: 10px 0;
        border-bottom: 1px solid #e2e8f0;
      }
      .detail-label {
        font-weight: 600;
        color: #4a5568;
      }
      .detail-value {
        color: #2d3748;
        word-break: break-all;
      }
      .error-box {
        background: #fff5f5;
        border: 1px solid #fc8181;
        border-radius: 8px;
        padding: 15px;
        margin-top: 10px;
      }
      .error-text {
        color: #c53030;
        font-weight: 600;
      }
      .summary-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }
      .summary-table th,
      .summary-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid #e2e8f0;
      }
      .summary-table th {
        background: #f7fafc;
        font-weight: 600;
        color: #4a5568;
      }
      .summary-table tr:hover {
        background: #f7fafc;
      }
      .badge {
        display: inline-block;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 11px;
        font-weight: bold;
        margin-left: 8px;
      }
      .badge-failed {
        background: #fed7d7;
        color: #742a2a;
      }
      .badge-success {
        background: #c6f6d5;
        color: #22543d;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>✈️ Flight Booking Microservice Test Report</h1>
        <p>Comprehensive API Testing Results | Generated: December 1, 2025</p>
      </div>

      <div class="content">
        <div class="stats-grid">
          <div class="stat-card">
            <h3>Total Requests</h3>
            <div class="value">8</div>
            <div class="subtext">6 Successful, 2 Failed</div>
          </div>
          <div class="stat-card">
            <h3>Success Rate</h3>
            <div class="value">75%</div>
            <div class="subtext">6 out of 8 requests passed</div>
          </div>
          <div class="stat-card">
            <h3>Avg Response Time</h3>
            <div class="value">202ms</div>
            <div class="subtext">Total duration: 1884ms</div>
          </div>
          <div class="stat-card">
            <h3>Data Transferred</h3>
            <div class="value">3.29KB</div>
            <div class="subtext">Average per request</div>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Test Summary</h2>
          <table class="summary-table">
            <tr>
              <th>Metric</th>
              <th>Total</th>
              <th>Failed</th>
              <th>Status</th>
            </tr>
            <tr>
              <td>Iterations</td>
              <td>1</td>
              <td>0</td>
              <td><span class="badge badge-success">PASS</span></td>
            </tr>
            <tr>
              <td>Requests</td>
              <td>8</td>
              <td>2</td>
              <td><span class="badge badge-failed">PARTIAL</span></td>
            </tr>
            <tr>
              <td>Test Scripts</td>
              <td>8</td>
              <td>0</td>
              <td><span class="badge badge-success">PASS</span></td>
            </tr>
            <tr>
              <td>Assertions</td>
              <td>0</td>
              <td>0</td>
              <td><span class="badge badge-success">N/A</span></td>
            </tr>
          </table>
        </div>

        <div class="section">
          <h2 class="section-title">Request Details</h2>

          <!-- Request 1 -->
          <div class="request-card">
            <div class="request-header" onclick="toggleRequest('req1')">
              <div>
                <span class="request-method method-get">GET</span>
                <span class="request-title">Get All Flights</span>
              </div>
              <span class="status-badge status-success">200 OK</span>
            </div>
            <div class="request-body" id="req1">
              <div class="detail-row">
                <div class="detail-label">URL</div>
                <div class="detail-value">http://localhost:8080/flight/</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Service</div>
                <div class="detail-value">Flight Service (Direct)</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Time</div>
                <div class="detail-value">465ms</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Size</div>
                <div class="detail-value">1.91KB</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Description</div>
                <div class="detail-value">
                  Retrieves all available flights from the Flight Service
                  database
                </div>
              </div>
            </div>
          </div>

          <!-- Request 2 -->
          <div class="request-card">
            <div class="request-header" onclick="toggleRequest('req2')">
              <div>
                <span class="request-method method-post">POST</span>
                <span class="request-title">Book Flight Ticket</span>
              </div>
              <span class="status-badge status-success">201 CREATED</span>
            </div>
            <div class="request-body" id="req2">
              <div class="detail-row">
                <div class="detail-label">URL</div>
                <div class="detail-value">
                  http://localhost:8091/booking/book/1
                </div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Service</div>
                <div class="detail-value">Booking Service (Direct)</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Time</div>
                <div class="detail-value">358ms</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Size</div>
                <div class="detail-value">341B</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Description</div>
                <div class="detail-value">
                  Books a ticket using Booking Service, which communicates with
                  Flight Service
                </div>
              </div>
            </div>
          </div>

          <!-- Request 3 -->
          <div class="request-card">
            <div class="request-header" onclick="toggleRequest('req3')">
              <div>
                <span class="request-method method-post">POST</span>
                <span class="request-title">Search Flights by Details</span>
              </div>
              <span class="status-badge status-success">200 OK</span>
            </div>
            <div class="request-body" id="req3">
              <div class="detail-row">
                <div class="detail-label">URL</div>
                <div class="detail-value">
                  http://localhost:8091/booking/getFlights
                </div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Service</div>
                <div class="detail-value">Booking Service (Direct)</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Time</div>
                <div class="detail-value">66ms</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Size</div>
                <div class="detail-value">291B</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Description</div>
                <div class="detail-value">
                  Searches for flights based on specific criteria (date,
                  destination, etc.)
                </div>
              </div>
            </div>
          </div>

          <!-- Request 4 -->
          <div class="request-card">
            <div class="request-header" onclick="toggleRequest('req4')">
              <div>
                <span class="request-method method-get">GET</span>
                <span class="request-title">Get Ticket by PNR</span>
              </div>
              <span class="status-badge status-success">200 OK</span>
            </div>
            <div class="request-body" id="req4">
              <div class="detail-row">
                <div class="detail-label">URL</div>
                <div class="detail-value">
                  http://localhost:8091/booking/getByPnr/PNR20251130G9YA
                </div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Service</div>
                <div class="detail-value">Booking Service (Direct)</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Time</div>
                <div class="detail-value">69ms</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Size</div>
                <div class="detail-value">341B</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Description</div>
                <div class="detail-value">
                  Retrieves booking details using PNR (Passenger Name Record)
                  number
                </div>
              </div>
            </div>
          </div>

          <!-- Request 5 -->
          <div class="request-card">
            <div class="request-header" onclick="toggleRequest('req5')">
              <div>
                <span class="request-method method-delete">DELETE</span>
                <span class="request-title">Cancel Ticket by PNR</span>
              </div>
              <span class="status-badge status-success">200 OK</span>
            </div>
            <div class="request-body" id="req5">
              <div class="detail-row">
                <div class="detail-label">URL</div>
                <div class="detail-value">
                  http://localhost:8091/booking/delete/PNR20251130G9YA
                </div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Service</div>
                <div class="detail-value">Booking Service (Direct)</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Time</div>
                <div class="detail-value">47ms</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Size</div>
                <div class="detail-value">105B</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Description</div>
                <div class="detail-value">
                  Cancels a booking and releases the seat
                </div>
              </div>
            </div>
          </div>

          <!-- Request 6 - FAILED -->
          <div class="request-card">
            <div class="request-header" onclick="toggleRequest('req6')">
              <div>
                <span class="request-method method-get">GET</span>
                <span class="request-title">Get Flight via API Gateway</span>
              </div>
              <span class="status-badge status-error">FAILED</span>
            </div>
            <div class="request-body" id="req6">
              <div class="detail-row">
                <div class="detail-label">URL</div>
                <div class="detail-value">http://flight/get/1</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Service</div>
                <div class="detail-value">API Gateway → Flight Service</div>
              </div>
              <div class="error-box">
                <div class="error-text">
                  ❌ Error: Invalid URI "http:///flight/get/1"
                </div>
                <p style="margin-top: 10px; font-size: 13px; color: #4a5568">
                  <strong>Issue:</strong> The API Gateway service name is not
                  resolving. This typically happens when:<br />
                  • API Gateway is not running<br />
                  • Eureka Service Discovery is not configured<br />
                  • Service registration is incomplete
                </p>
              </div>
            </div>
          </div>

          <!-- Request 7 -->
          <div class="request-card">
            <div class="request-header" onclick="toggleRequest('req7')">
              <div>
                <span class="request-method method-get">GET</span>
                <span class="request-title">Get Ticket via API Gateway</span>
              </div>
              <span class="status-badge status-success">200 OK</span>
            </div>
            <div class="request-body" id="req7">
              <div class="detail-row">
                <div class="detail-label">URL</div>
                <div class="detail-value">
                  http://localhost:8765/booking/getByPnr/PNR20251201C70K
                </div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Service</div>
                <div class="detail-value">API Gateway → Booking Service</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Time</div>
                <div class="detail-value">214ms</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Response Size</div>
                <div class="detail-value">341B</div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Description</div>
                <div class="detail-value">
                  Retrieves booking through API Gateway (port 8765)
                </div>
              </div>
            </div>
          </div>

          <!-- Request 8 - FAILED -->
          <div class="request-card">
            <div class="request-header" onclick="toggleRequest('req8')">
              <div>
                <span class="request-method method-delete">DELETE</span>
                <span class="request-title">Cancel Ticket via API Gateway</span>
              </div>
              <span class="status-badge status-error">FAILED</span>
            </div>
            <div class="request-body" id="req8">
              <div class="detail-row">
                <div class="detail-label">URL</div>
                <div class="detail-value">
                  http://booking/delete/PNR20251201C70K
                </div>
              </div>
              <div class="detail-row">
                <div class="detail-label">Service</div>
                <div class="detail-value">API Gateway → Booking Service</div>
              </div>
              <div class="error-box">
                <div class="error-text">
                  ❌ Error: Invalid URI "http:///booking/delete/PNR20251201C70K"
                </div>
                <p style="margin-top: 10px; font-size: 13px; color: #4a5568">
                  <strong>Issue:</strong> Missing API Gateway base URL.<br />
                  <strong>Fix:</strong> Should be
                  http://localhost:8765/booking/delete/PNR20251201C70K
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Architecture Overview</h2>
          <div
            style="
              background: #f7fafc;
              padding: 20px;
              border-radius: 8px;
              border: 1px solid #e2e8f0;
            "
          >
            <h3 style="margin-bottom: 15px; color: #2d3748">Service Ports:</h3>
            <ul style="list-style: none; padding: 0">
              <li style="padding: 8px 0; border-bottom: 1px solid #e2e8f0">
                <strong>Flight Service:</strong> localhost:8080
              </li>
              <li style="padding: 8px 0; border-bottom: 1px solid #e2e8f0">
                <strong>Booking Service:</strong> localhost:8091
              </li>
              <li style="padding: 8px 0; border-bottom: 1px solid #e2e8f0">
                <strong>API Gateway:</strong> localhost:8765
              </li>
              <li style="padding: 8px 0">
                <strong>Service Discovery:</strong> Eureka (typically 8761)
              </li>
            </ul>
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Recommendations</h2>
          <div
            style="
              background: #fffaf0;
              padding: 20px;
              border-radius: 8px;
              border-left: 4px solid #ed8936;
            "
          >
            <h3 style="margin-bottom: 15px; color: #c05621">
              ⚠️ Action Items:
            </h3>
            <ol style="padding-left: 20px; color: #2d3748">
              <li style="margin-bottom: 10px">
                <strong>Fix API Gateway URLs:</strong> Update Postman collection
                to use localhost:8765 instead of service names
              </li>
              <li style="margin-bottom: 10px">
                <strong>Verify Service Discovery:</strong> Ensure Eureka server
                is running and all services are registered
              </li>
              <li style="margin-bottom: 10px">
                <strong>Add Assertions:</strong> Implement test scripts to
                validate response status, data structure, and business logic
              </li>
              <li>
                <strong>Monitor Performance:</strong> Some requests (like "Get
                All Flights" at 465ms) could be optimized
              </li>
            </ol>
          </div>
        </div>
      </div>
    </div>

    <script>
      function toggleRequest(id) {
        const element = document.getElementById(id);
        const allBodies = document.querySelectorAll(".request-body");

        allBodies.forEach((body) => {
          if (body.id !== id) {
            body.classList.remove("active");
          }
        });

        element.classList.toggle("active");
      }
    </script>
  </body>
</html>
